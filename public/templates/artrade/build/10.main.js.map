{"version":3,"sources":["../../src/pages/user/unpaid-items/unpaid-items.module.ts","../../src/service/deal.ts","../../src/pages/user/unpaid-items/unpaid-items.ts"],"names":[],"mappings":"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","file":"10.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UnpaidItemsPage } from './unpaid-items';\n\n@NgModule({\n  declarations: [\n    UnpaidItemsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UnpaidItemsPage),\n  ],\n  exports: [\n    UnpaidItemsPage\n  ]\n})\nexport class UnpaidItemsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/unpaid-items/unpaid-items.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Response, URLSearchParams, RequestOptions, Headers } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\n\nimport { Device } from '@ionic-native/device';\nimport { Setting } from '../app/app.setting';\nimport { DealRecord } from '../models/dealRecord';\n\n/*\n  Generated class for the Order provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class DealService {\n  private DealUrl = this.setting.apiTestHost + '/artradeApp/sold/querysold.action';\n  constructor(public http: Http, private setting: Setting, private device: Device) {\n\n  }\n\n  private getDealList(currentPage: number, pageSize: number, memberId: string, type: string, dateType?: string, dateVal?: string, itemName?: string, itemId?: number, glideMark?: number, lotId?: number, authorName?: string, itemAge?: string): Observable<DealRecord[]> {\n    let params = new URLSearchParams();\n    let queryData = {\n      filterMap: {\n        memberId: memberId,\n        /* type\n        * \"bNoOrder\"：查询(买家)成交未生成订单拍品\n        * \"bAndOrder\"：查询(买家)成交且生成订单拍品\n        * \"bAll\"：查询(买家)所有成交拍品\n        * \"sNoOrder\"：查询(卖家)成交未生成订单拍品\n        * \"sAndOrder\"：查询(卖家)成交且生成订单拍品\n        * \"lotOccupyMargin\":查询(买家)保证金占用的明细信息\n        * type为空时查询(买家)成交未生成订单拍品\"\n        */\n        type: type,\n        dateType: dateType,\n        dateVal: dateVal,\n        itemName: itemName || '',\n        itemId: itemId || '',\n        glideMark: glideMark || '',\n        lotId: lotId || '',\n        authorName: authorName || '',\n        itemAge: itemAge || ''\n      },\n      pageInfo: {\n        currentPage: currentPage,\n        pageSize: pageSize\n      }\n    };\n    params.set('imei', this.device.uuid || '0');\n    params.set('memberId', memberId || '0');\n    params.set('queryData', JSON.stringify(queryData));\n\n    let options = new RequestOptions({\n      headers: new Headers(),\n      search: params\n    });\n    return this.http.get(this.DealUrl, options)\n      .map(res => {\n        if (res.json().result) {\n          return res.json().data.data;\n        }\n        return null;\n      })\n      .catch(this.handleError);\n  }\n\n  //查询(买家)成交未生成订单拍品\n  getUnOrderedDealList(currentPage: number, pageSize: number, memberId: string, dateType?: string, dateVal?: string, itemName?: string, itemId?: number, glideMark?: number, lotId?: number, authorName?: string, itemAge?: string): Observable<DealRecord[]> {\n    return this.getDealList(currentPage, pageSize, memberId, 'bNoOrder', dateType, dateVal, itemName, itemId, glideMark, lotId, authorName, itemAge);\n  }\n\n  //查询(买家)成交且生成订单拍品\n  getOrderedDealList(currentPage: number, pageSize: number, memberId: string, dateType?: string, dateVal?: string, itemName?: string, itemId?: number, glideMark?: number, lotId?: number, authorName?: string, itemAge?: string): Observable<DealRecord[]> {\n    return this.getDealList(currentPage, pageSize, memberId, 'bAndOrder', dateType, dateVal, itemName, itemId, glideMark, lotId, authorName, itemAge);\n  }\n\n  //查询(买家)所有成交拍品\n  getAllDealList(currentPage: number, pageSize: number, memberId: string, dateType?: string, dateVal?: string, itemName?: string, itemId?: number, glideMark?: number, lotId?: number, authorName?: string, itemAge?: string): Observable<DealRecord[]> {\n    return this.getDealList(currentPage, pageSize, memberId, 'bAll', dateType, dateVal, itemName, itemId, glideMark, lotId, authorName, itemAge);\n  }\n\n  private handleError(error: Response | any) {\n    // In a real world app, we might use a remote logging infrastructure\n    let errMsg: string;\n    if (error instanceof Response) {\n      const body = error.json() || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/deal.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { DealRecord } from '../../../models/dealRecord';\nimport { DealService } from '../../../service/deal';\nimport { Storages } from '../../../providers/storages';\nimport { User } from '../../../models/user';\n/*\n  Generated class for the UnpaidItems page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@IonicPage()\n@Component({\n  selector: 'page-unpaid-items',\n  templateUrl: 'unpaid-items.html',\n  providers: [DealService, Storages]\n})\nexport class UnpaidItemsPage {\n  user: User;\n  dealList: DealRecord[];\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private dealService: DealService, private storages: Storages) {\n    this.user = storages.get('User');\n  }\n\n  ionViewDidLoad() {\n    this.dealService.getUnOrderedDealList(1, 10, this.user.memberId).subscribe((result) => {\n      console.log(result);\n    })\n  }\n  enterItem(item) {\n    this.navCtrl.push('ItemPage', { item: item });\n  }\n\n  pay() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user/unpaid-items/unpaid-items.ts"],"sourceRoot":""}