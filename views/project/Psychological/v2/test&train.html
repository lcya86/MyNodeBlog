<!DOCTYPE html>
<html ng-app="psychological.test&train">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Experiment</title>
  <script type="text/javascript" src="/javascripts/angular.min.js"></script>
  <script type="text/javascript" src="/javascripts/hammer.min.js"></script>
  <script type="text/javascript" src="/javascripts/gestures.min.js"></script>
  <script type="text/javascript" src="/javascripts/psychological/experiment/controllers/test&train.js"></script>
  <link rel="stylesheet" type="text/css" href="/stylesheets/spinner.css">
</head>
<style type="text/css">
  html,body{
    height: 100%;
    margin: 0px;
  }
  .imgList{
    height: 100%;
    margin: 0px;
  }
  .container{
    width: 100%;
    text-align: center;
  }
  @font-face{
    font-family:'Glyphicons Halflings';
    src:url('/fonts/glyphicons-halflings-regular.eot');
    src:url('/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'),
    url('/fonts/glyphicons-halflings-regular.woff') format('woff'),
    url('/fonts/glyphicons-halflings-regular.ttf') format('truetype'),
    url('/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg')
  }
  .glyphicon{
    position:relative;
    top:1px;
    display:inline-block;
    font-family:'Glyphicons Halflings';
    -webkit-font-smoothing:antialiased;
    font-style:normal;
    font-weight:normal;
    font-size: 20px;
    line-height:1;
    -moz-osx-font-smoothing:grayscale
  }
  .glyphicon-plus:before{
    content:"\2b"
  }
  .cross{
    position: fixed;
    top:45%;
    left:50%;
  }

  .d_login{
    width: 300px;
    margin: 200px auto;
  }
  .b_login{
    display: block;
  }

  .upside{
    position: fixed;
    top: 5px;
    width: 100%;
    height: 48%;
    text-align: center;
  }
  .downside{
    position: fixed;
    bottom: 0px;
    width: 100%;
    height: 48%;
    text-align: center;
  }

  .upside img{
    height: 100%;
  }
  .downside img{
    height: 100%;
  }

  .upside strong{
    display: block;
    margin-top: 30%;
  }
  .downside strong{
    display: block;
    margin-top: 30%;
  }

  .upside h1,.downside h1{
    margin-top: 10%;
  }

  .welcome{
    padding: 10px;
  }

  .welcome strong{
    font-size: 25px;
    color:#5E307E;
  }

  .progress-bar{
    width: 100%;
    height: 5px;
    margin-bottom: 5px;
    background-color: #76b7ff;
    display: absolute;
    top: 0px;
    position: fixed;
  }

  .start{
    background-color: antiquewhite;
    padding: 10px;
    cursor: pointer;
    display: inline-block;
    border-radius: 5px;
  }

  .d_experiment{
    margin-top: 5px;
  }

  .eButton{
    left: 0px;
    width: 50px;
    position: fixed;
    height: 100%;
    background-color: antiquewhite;
    padding: 10px;
    text-align: center;
    z-index: 999;
  }
  .fButton{
    right: 0px;
    width: 50px;
    position: fixed;
    height: 100%;
    background-color: antiquewhite;
    padding: 10px;
    text-align: center;
    z-index: 999;
  }
  .eButton:active{
    background-color: rgb(249, 213, 165);
  }
  .fButton:active{
    background-color: rgb(249, 213, 165);
  }
  .eButton strong{
    display: block;
    margin-top: 200px;
  }
  .fButton strong{
    display: block;
    margin-top: 200px;
  }
</style>
<body>
  <div id="spinner" class="spinner">
    <div class="rect1"></div>
    <div class="rect2"></div>
    <div class="rect3"></div>
    <div class="rect4"></div>
    <div class="rect5"></div>
    <div class="rect6"></div>
    <div class="rect7"></div>
    <div class="rect8"></div>
    <div class="rect9"></div>
    <div class="rect10"></div>
    <div class="rect11"></div>
    <div class="rect12"></div>
  </div>
  <div id="container" class="container" ng-controller="doExperiment" style="display:none;">
    <div ng-controller="login">
      <div class="d_login" ng-show="step.isCurrent()">
        请输入姓名
        <input ng-model="state.name" type="text" placeholder="请输入姓名"/>
        <a hm-tap="step.login()" class="b_login">确定</a>
      </div>
    </div>
    <div ng-controller="welcome">
      <div class="welcome" ng-show="step.isCurrent()">
        <h4>欢迎你来参加我们的实验！</h4>
        <p>在本实验中，屏幕将出现两个面孔，之后面孔消失，会出现字母<strong>E</strong>或<strong>F</strong>，如果出现<strong>E</strong>，请触摸屏幕中字母“<strong>E</strong>”，如果出现字母<strong>F</strong>，请触摸屏幕中的字母“<strong>F</strong>”。</p>
        <p>注意：请保持注意力集中，又对又快的进行判断。这部分练习将持续20分钟左右，如果理解上述说明，请点击“继续”。</p>
        <a class="start" hm-tap="state.nextStep()">继续</a>
      </div>
    </div>
    <div ng-controller="testController">
      <div class="d_experiment" ng-show="test.isCurrent()">
        <div class="progress-bar" ng-style="test.pbstyle"></div>
        <div ng-repeat="pair in test.pairs" ng-show="test.currentPair == $index">
          <div class="cross" ng-show="test.subStage == 1">
            <span class="glyphicon glyphicon-plus"></span>
          </div>
          <div class="upside" ng-show="test.subStage == 2">
            <img src="{{pair.upImg}}" alt="上图">
          </div>
          <div class="downside" ng-show="test.subStage == 2">
            <img src="{{pair.downImg}}" alt="下图">
          </div>
          <div ng-show="test.subStage == 3 && pair.letter">
            <a class="eButton" hm-tap="test.clickButton('E',pair)"><strong>E</strong></a>
            <div class="upside" ng-show="test.showUp">
              <strong>{{pair.letter}}</strong>
            </div>
            <div class="downside" ng-show="!test.showUp">
              <strong>{{pair.letter}}</strong>
            </div>
            <a class="fButton" hm-tap="test.clickButton('F',pair)"><strong>F</strong></a>
          </div>
        </div>
      </div>
    </div>
    <div ng-controller="break">
      <div class="welcome" ng-show="step.isCurrent()">
        <h4>请休息1min，进入下一阶段。</h4>
        <a class="start" hm-tap="state.nextStep()">继续</a>
      </div>
    </div>
    <div ng-controller="trainController">
      <div class="d_experiment" ng-show="train.isCurrent()">
        <div class="progress-bar" ng-style="train.pbstyle"></div>
        <div ng-repeat="pair in train.pairs" ng-show="train.currentPair == $index">
          <div class="cross" ng-show="train.subStage == 1">
            <span class="glyphicon glyphicon-plus"></span>
          </div>
          <div class="upside" ng-show="train.subStage == 2">
            <img src="{{pair.upImg}}" alt="上图">
          </div>
          <div class="downside" ng-show="train.subStage == 2">
            <img src="{{pair.downImg}}" alt="下图">
          </div>
          <div ng-show="train.subStage == 3 && pair.letter">
            <a class="eButton" hm-tap="train.clickButton('E',pair)"><strong>E</strong></a>
            <div class="upside" ng-show="train.showUp">
              <strong>{{pair.letter}}</strong>
            </div>
            <div class="downside" ng-show="!train.showUp">
              <strong>{{pair.letter}}</strong>
            </div>
            <a class="fButton" hm-tap="train.clickButton('F',pair)"><strong>F</strong></a>
          </div>
        </div>
      </div>
    </div>
    <div ng-controller="end">
      <div class="welcome" ng-show="train.isCurrent()">
        <h4>实验结束，感谢您参与我们的实验。</h4>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    window.onload = function(){
      document.body.removeChild(document.getElementById('spinner'));
      document.getElementById('container').style.display = 'block';
    };
  </script>
</html>